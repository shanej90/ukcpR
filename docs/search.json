[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 ukcpR authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/using-ukcpr.html","id":"before-you-begin","dir":"Articles","previous_headings":"","what":"Before you begin","title":"Using ukcpR","text":"can use package, need already set account use Met Office UK Climate Projections (UKCP) data portal. can signing . account, ’ll need use API key make requests. can found UKCP page (note ’ll need signed access link). One done , recommend saving API key environment variable (named UKCP_API_KEY) .Renviron file. save manually declare time write code using function makes API call. function usethis::edit_renviron() makes simple access right file.","code":""},{"path":"/articles/using-ukcpr.html","id":"sending-a-query","dir":"Articles","previous_headings":"","what":"Sending a query","title":"Using ukcpR","text":"Depending whether want get observation projection data, need use start_ukcp_observation_csv_job() start_ukcp_projection_csv_job() respectively. Remember (least now) certain datasets can drawn upon: Observations HadUK-Grid UK daily data Observations HadUK-Grid UK monthly, seasonal annual data Variables local/regional/global projections UK monthly, seasonal annual data either case option set multiple parameters query (per example). might playing round/testing via user submission form understand accepted values parameter mean. Although limited API documentation, doesn’t go detail needed define said parameters.","code":"library(ukcpR)  example_call <-  start_ukcp_observation_csv_job(   label = \"testtthat-good-query\",   identifier = \"LS6_Subset_02\",   area_type = \"point\",   area_details = c(292500, 72500),   collection = \"land-obs_5\",   temp_avg = \"day\",   year_range = c(1960, 2021),   variable = \"rainfall\" ) #> No encoding supplied: defaulting to UTF-8.  example_call #> $job_id #> [1] NA #>  #> $req_url #> [1] NA #>  #> $status_url #> [1] \"https://ukclimateprojections-ui.metoffice.gov.uk/status/a591366a70493ff6cd2421db55fbe4c0\""},{"path":"/articles/using-ukcpr.html","id":"getting-your-results","dir":"Articles","previous_headings":"","what":"Getting your results","title":"Using ukcpR","text":"can see example, results call return job ID (job_id), request URL (req_url) crucially, status URL (status_url). last URL use actually access results via download_ukcp_csv_results() function (regardless whether looking observation projection data). function polls server every five seconds (note: can take several minutes complete queries) check job finished. , download zip file folder (specified ) working directory extract csv files within. can optionally keep zip file. example following initial request : Note UKCP provides csv file names timestamps, rather useful data describing contained within. Thus may want rename files way (possibly future function programtically rename based metadata contained within).","code":"download_ukcp_csv_results(example_call$status_url, output_folder = \"assets\")"},{"path":"/articles/using-ukcpr.html","id":"reading-your-results-into-r","dir":"Articles","previous_headings":"","what":"Reading your results into R","title":"Using ukcpR","text":"Finally, can read results R analysis, visualisation, etc. different functions observation (read_observation_csv()) projection (read_projection_csv()). functions return dataframe includes metadata columns addition data actually . processing data done, particularly data ‘drawn’ custom-defined grid. can also choose, using grid/point-based data, convert northings/eastings latitude/longitude.","code":"example_csv <- read_observation_csv(here::here(\"assets/subset_2023-07-03T09-25-13.csv\"))  head(example_csv, 5) #>   year season month       date spatial_rep         measurement #> 1 1960 Winter     1 1960-01-01    5km grid Total rainfall (mm) #> 2 1960 Winter     1 1960-01-01    5km grid Total rainfall (mm) #> 3 1960 Winter     1 1960-01-01    5km grid Total rainfall (mm) #> 4 1960 Winter     1 1960-01-01    5km grid Total rainfall (mm) #> 5 1960 Winter     1 1960-01-01    5km grid Total rainfall (mm) #>   measurement_units longitude latitude      value #> 1                mm -3.518475 50.54236 9.89379428 #> 2                mm -3.518475 50.54236 1.83870641 #> 3                mm -3.518475 50.54236 2.11688862 #> 4                mm -3.518475 50.54236 0.53965386 #> 5                mm -3.518475 50.54236 0.00258589"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Shane Jackson. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Jackson S (2023). ukcpR: Work Met Office UKCP API via R. R package version 0.1.0.","code":"@Manual{,   title = {ukcpR: Work with the Met Office UKCP API via R},   author = {Shane Jackson},   year = {2023},   note = {R package version 0.1.0}, }"},{"path":"/index.html","id":"ukcpr","dir":"","previous_headings":"","what":"Work with the Met Office UKCP API via R","title":"Work with the Met Office UKCP API via R","text":"goal ukcpR make bit easier interact UK Met Office’s UK Climate Projections (UKCP) data, via API, work data produced moment package focused limited number document types, .csv files. may expand document types future, now helps instances. Currently can use package run queries : Observations HadUK-Grid UK daily data Observations HadUK-Grid UK monthly, seasonal annual data Variables local/regional/global projections UK monthly, seasonal annual data Note: package relies already UKCP account. able use API without key provides. default package assumes key stored environment variable UKCP_API_KEY .Renviron file, can overwrite desired. noted queries make via API logged (results accessible) UKCP web interface. also need understanding possible values API parameters. nature package can freely enter old text, even individual parameters valid, may work combination. Reading /trials via UI initially probably save lot frustration. See -guide information examples.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Work with the Met Office UKCP API via R","text":"can install development version ukcpR follows:","code":"remotes::install_github(\"shanej90/ukcpR\")"},{"path":"/reference/do_coord_conversion.html","id":null,"dir":"Reference","previous_headings":"","what":"do_coord_conversion — do_coord_conversion","title":"do_coord_conversion — do_coord_conversion","text":"Helper function convert northings/eastings latitude/longitude respectively.","code":""},{"path":"/reference/do_coord_conversion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"do_coord_conversion — do_coord_conversion","text":"","code":"do_coord_conversion(northings, eastings)"},{"path":"/reference/do_coord_conversion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"do_coord_conversion — do_coord_conversion","text":"northings Numeric vector northings converted. eastings Numeric vector eastings converted.","code":""},{"path":"/reference/do_coord_conversion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"do_coord_conversion — do_coord_conversion","text":"list object containing two vectors, one latitude one longitude.","code":""},{"path":"/reference/do_coord_conversion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"do_coord_conversion — do_coord_conversion","text":"","code":"if (FALSE) { do_coord_conversion(  292500,  72500 ) }"},{"path":"/reference/download_ukcp_csv_results.html","id":null,"dir":"Reference","previous_headings":"","what":"download_ukcp_csv_results — download_ukcp_csv_results","title":"download_ukcp_csv_results — download_ukcp_csv_results","text":"Download results API query, using status_url returned start_ukcp_csv_job. Polls server every five seconds.","code":""},{"path":"/reference/download_ukcp_csv_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download_ukcp_csv_results — download_ukcp_csv_results","text":"","code":"download_ukcp_csv_results(   status_url,   output_folder = \"outputs\",   keep_zip = F,   API_KEY = Sys.getenv(\"UKCP_API_KEY\") )"},{"path":"/reference/download_ukcp_csv_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download_ukcp_csv_results — download_ukcp_csv_results","text":"status_url URL used retrieve results API. output_folder Folder (working directory) save .csv files . keep_zip Keep original zip file (working directory root folder). Note initial name always temp.zip. API_KEY UKCP API key. Defaults using environment variable UKCP_API_KEY.","code":""},{"path":"/reference/download_ukcp_csv_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"download_ukcp_csv_results — download_ukcp_csv_results","text":"Downloads .zip file held status_url extracts csv(s) within (users can optionally keep .zip file).","code":""},{"path":"/reference/download_ukcp_csv_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"download_ukcp_csv_results — download_ukcp_csv_results","text":"","code":"if (FALSE) {  download_ukcp_csv_results(   status_url = \"https://ukclimateprojections-ui.metoffice.gov.uk/status/your-id-here\",   output_folder = \"outputs\" ) }"},{"path":"/reference/read_observation_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"read_observation_csv — read_observation_csv","title":"read_observation_csv — read_observation_csv","text":"Read UKCP observation data .csv file handle basic processing.","code":""},{"path":"/reference/read_observation_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"read_observation_csv — read_observation_csv","text":"","code":"read_observation_csv(filepath, convert_coordinates = T)"},{"path":"/reference/read_observation_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"read_observation_csv — read_observation_csv","text":"filepath Location file. convert_coordinates Convert coordinates (using instead named area) northings/eastings latitude/longitude.","code":""},{"path":"/reference/read_observation_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"read_observation_csv — read_observation_csv","text":"dataframe processed data (pertinent metadata) tall format.","code":""},{"path":"/reference/read_observation_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"read_observation_csv — read_observation_csv","text":"","code":"if (FALSE) { read_observation_csv(   \"filename.csv\" ) }"},{"path":"/reference/read_projection_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"read_projection_csv — read_projection_csv","title":"read_projection_csv — read_projection_csv","text":"Read UKCP projection data .csv file(s) handle basic processing.","code":""},{"path":"/reference/read_projection_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"read_projection_csv — read_projection_csv","text":"","code":"read_projection_csv(filepath, convert_coordinates = T)"},{"path":"/reference/read_projection_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"read_projection_csv — read_projection_csv","text":"filepath Location file. convert_coordinates Convert coordinates northings/eastings latitude/longitude.","code":""},{"path":"/reference/read_projection_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"read_projection_csv — read_projection_csv","text":"dataframe processed data (pertinent metadata) tall format.","code":""},{"path":"/reference/read_projection_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"read_projection_csv — read_projection_csv","text":"","code":"if (FALSE) { read_projection_csv(   \"filename.csv\" ) }"},{"path":"/reference/start_ukcp_observation_csv_job.html","id":null,"dir":"Reference","previous_headings":"","what":"start_ukcp_observation_csv_job — start_ukcp_observation_csv_job","title":"start_ukcp_observation_csv_job — start_ukcp_observation_csv_job","text":"Send query UKCP API observation data get job (produce .csv outputs) started.","code":""},{"path":"/reference/start_ukcp_observation_csv_job.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"start_ukcp_observation_csv_job — start_ukcp_observation_csv_job","text":"","code":"start_ukcp_observation_csv_job(   label,   API_KEY = Sys.getenv(\"UKCP_API_KEY\"),   identifier,   area_type,   area_details,   collection,   temp_avg,   year_range,   variable )"},{"path":"/reference/start_ukcp_observation_csv_job.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"start_ukcp_observation_csv_job — start_ukcp_observation_csv_job","text":"label Job label request - appear UKCP API. API_KEY UKCP API key. Defaults UKCP_API_KEY environment variable created. identifier Identifier dataset like query. area_type area like cover set , eg 'point', 'admin_region' 'bbox' (full set options) cover multiple grid cells. area_details name coordinates (northings/eastings) location interested . coordinates, point ID edges boundary. latter case, enter vector W, S, E, N boundaries order. collection collection queried dataset part . temp_avg time period data broken , eg 'day' 'may' (data month, 'mall' months). year_range Years covered call. Enter vector following format: c(min_yr, max_yr). variable measurement trying extract, eg 'rainfall' 'sun'.","code":""},{"path":"/reference/start_ukcp_observation_csv_job.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"start_ukcp_observation_csv_job — start_ukcp_observation_csv_job","text":"list information job, crucially URL use get results (ready).","code":""},{"path":"/reference/start_ukcp_observation_csv_job.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"start_ukcp_observation_csv_job — start_ukcp_observation_csv_job","text":"","code":"if (FALSE) {  start_ukcp_observation_csv_job(   label = \"ukcpR-query\",   identifier = \"LS6_Subset_02\",   area_type = \"point\",   area_details = c(292500, 72500),   collection = \"land-obs_5\",   temp_avg = \"day\",   year_range = c(1960, 2021),   variable = \"rainfall\"  )  }"},{"path":"/reference/start_ukcp_projection_csv_job.html","id":null,"dir":"Reference","previous_headings":"","what":"start_ukcp_projection_csv_job — start_ukcp_projection_csv_job","title":"start_ukcp_projection_csv_job — start_ukcp_projection_csv_job","text":"Send query UKCP API projection data get job (produce .csv outputs) started.","code":""},{"path":"/reference/start_ukcp_projection_csv_job.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"start_ukcp_projection_csv_job — start_ukcp_projection_csv_job","text":"","code":"start_ukcp_projection_csv_job(   label,   API_KEY = Sys.getenv(\"UKCP_API_KEY\"),   identifier,   area_details,   collection,   temp_avg,   year_range,   variable,   climate_change_type,   ensemble_member_set,   scenario )"},{"path":"/reference/start_ukcp_projection_csv_job.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"start_ukcp_projection_csv_job — start_ukcp_projection_csv_job","text":"label Job label request - appear UKCP API. API_KEY UKCP API key. Defaults UKCP_API_KEY environment variable created. identifier Identifier dataset like query. area_details coordinates (northings/eastings) location interested . Enter vector W, S, E, N boundaries order. collection collection queried dataset part . temp_avg time period data broken , eg 'day' 'may' (data month, 'mall' months). year_range Years covered call. Enter vector following format: c(min_yr, max_yr). Note may restrictions years can sent depending data requesting. variable measurement trying extract, eg 'rainfall' 'sun'. climate_change_type Whether want 'absolute' 'anomaly' values. ensemble_member_set Set models used generate projections. scenario RCP scenario (rcp26 rcp85) gather projections . Note variable global projections.","code":""},{"path":"/reference/start_ukcp_projection_csv_job.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"start_ukcp_projection_csv_job — start_ukcp_projection_csv_job","text":"list information job, crucially URL use get results (ready).","code":""},{"path":"/reference/start_ukcp_projection_csv_job.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"start_ukcp_projection_csv_job — start_ukcp_projection_csv_job","text":"","code":"if (FALSE) {  start_ukcp_projection_csv_job(   label = \"ukcpR-query\",   identifier = \"LS2_Subset_01\",   area_details = c(292500, 72500, 293500, 73500),   collection = \"land-gcm\",   temp_avg = \"mall\",   year_range = c(2061, 2080),   variable = \"tas\"  )  }"},{"path":"/reference/ukcpR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ukcpR: Work with the Met Office UKCP API via R — ukcpR-package","title":"ukcpR: Work with the Met Office UKCP API via R — ukcpR-package","text":"package lets interact UK Met Office UKCP API using R. primarily aimed extracting manipulating .csv exports (least now).","code":""},{"path":"/news/index.html","id":"ukcpr-010","dir":"Changelog","previous_headings":"","what":"ukcpR 0.1.0","title":"ukcpR 0.1.0","text":"Functions make API calls certain observational projected .csv files. Download results said calls locally. Read basic pre-processing .csv files R. Coordinate conversion northings/eastings latitude/longitude.","code":""}]
